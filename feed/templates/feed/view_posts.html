{% extends "base.html" %}
{% load static %}
{% load relative_time %}
{% load like %}
{% load comment %}
{% load post %}
{% load bleach_tags %}
{% load user %}
{% block title%} Feed{% endblock %}

{% block headers %}
<script src="{% static 'js/infinitescroll.js' %}"></script>
<script>
    document.addEventListener("DOMContentLoaded", () => {
      let bottomSentinel = document.querySelector("#sentinel");
      let scrollElement = document.querySelector("#posts");
      attachInfiniteScroll(bottomSentinel, scrollElement);
    })
  </script>
<link rel='stylesheet' href="{% static 'css/post.css' %}">
<link rel='stylesheet' href="{% static 'css/profile.css' %}">
{% endblock%}
{% block content %}
  <div id="errors">
    {% include "formerrors.html" %}
    {% include "message.html" %}
  </div>
{% if show_selected_user or False %}
  <div id="user-details">
    <div id="username">{{ selected_user | full_name }}</div>
    <hr class="inner-separator">
    <div id="bio">I write blogs, probably, bio is not supported now.</div>
  </div>
{% endif %}

<div id="posts">
  {% include "feed/__posts.html"%}
</div>

<div id="sentinel"></div>
{% endblock %}